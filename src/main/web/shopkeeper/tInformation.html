<!--
  ~ Copyright (c) 2019. The copyright is reserved by Ghode of Harbin Institute
  ~ of Technology. Users are free to copy, change or remove. Because no one
  ~ will read this. Only I know is that Repeaters are the best of the world.
  ~ Only I know is that Repeaters are the best of the world. Only I know is
  ~ that Repeaters are the best of the world. Maybe a long copyright text
  ~ seems professional. Therefore this text will be a bit lengthy. However,
  ~ the author seems to be afraid that one day, this text may be uploaded to
  ~ business projects. That is the time you can contact with author via email
  ~ ghode@cirnocraft.im or directly ignore this, which will be interesting.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/student.css">
    <script src="js/jquery-1.9.1.min.js"></script>
</head>
<body>
	<!-- 头部样式 -->
    <div class="container">
        <div class="content">
            <div class="header clearfix">
                <div class="top fl">当前位置>个人信息</div>
                <div class="bottom fr">
					<!-- 编辑/保存切换，js类型 -->
                    <a id="emit" href="javascript:;">编辑</a>
                    <a id="keep" href="javascript:;">保存</a>
                </div>
            </div>
            <div class="main">
                <!--基础信息-->
                
                <div class="content clearfix">
                    <div class="left fl">
						<!-- 学生姓名，注入值位置 -->
                        <div>
                            <label for="">姓名：</label>
                            <input id="stu_name" type="text" value=""  disabled/>
                        </div>
						<div>
						    <label for="">学号：</label>
						    <input id="xstu_id" type="number" value="" disabled>
						</div>
						<!-- 学生性别，注入值位置 -->
                        <div>
                            <label for="">性别：</label>
                            男：<input type="radio" name="sex" value="0" style="width: 20px; margin-top: 12px;">
                            女：<input type="radio" name="sex" value="1" style="width: 20px;">
                        </div>
						
						<!-- 班级编号，注入值位置 -->
						<div>
						    <label for="">班级编号：</label>
						    <input id="classId" type="text" value="" disabled>
						</div>
                      
                      <!-- 入学年份注入值位置 -->
                       <div>
                          <label for="">入学年份：</label>
                          <input id="inyear" type="number" value="2017" disabled>
                      </div>
                    </div>
					
                        
                       
         
    <!-- 应该是验证登陆的函数-->   
		
	   <script type="text/javascript">
		   var urll = "/quiz/Stu/findstudent";
		   $.ajax({
		   	url:urll,
		   	type:"GET",
		   	dataType:"json",
		   	success:function(str){
		   		document.getElementById("stu_name").value = str.studentName;
		   		document.getElementById("xstu_id").value = str.studentId;
				document.getElementById("classId").value = str.classId;
				
				document.getElementById("sex").value = str.studentSex;
				document.getElementById("stu_name").value = str.studentName;
		   	},
		   	error:function(){
		   		alert("error");
		   	}
		   	
		   });
		   
	   </script>
    <script >
		document.getElementById("stu_name").value = "avc";
		
	</script>
    <script>
        $('#politics i').on('click', function() {
            $(this).siblings('ul').show();
			
        });
        $('#politics ul li').on('click', function() {
            var selTxt = $(this).text();
            $('#politics a').text(selTxt);
            $('#politics ul').hide();
        });
        $('#child i').on('click', function() {
            $(this).siblings('ul').show();
        });
        $('#child ul li').on('click', function() {
            var selTxt = $(this).text();
            $('#child a').text(selTxt);
            $('#child ul').hide();
        });
        $('#emit').on('click',function(){
			$('input').removeAttr('disabled');
			document.getElementById("stu_name").innerHTML("abc");
		});
		$('#keep').on('click',function(){
			$('input').attr('disabled','disabled');
		});
    	$(document).ready(function(){
    		$.ajax({
	    		url: "http://101.201.154.205:9090/bm/bmList",
	    		type: 'post',
	    		data: {
	    			t: Math.random()
	    		},
	    		dataType: 'jsonp',
	    		'jsonp': 'callback'
	    	}).then(function(res){
	    		console.log(res)
	//      		var stu_name = $('#stu_name').val();
				for (var i=0; i<res.length; i++) {
	    			$('#stu_name').attr('value',res[i].stu_name);
	    			$('#sex').attr('value',res[i].sex);
	    			$('#xstu_id').attr('value',res[i].xstu_id);
	    			$('#inyear').attr('value',res[i].inyear);
	    			$('#birthday').attr('value',res[i].birthday);
					$('#classId').attr('value',res[i].classId);
	    			
	    		}
	    	},function(){
	    		console.log('error');
	    	});
    	});
    </script>

</body>
</html>